# Video Processing Server

A RESTful Node.js server for handling video upload, processing (trimming, merging), and generating secure video links.

---

## Features

- **Video Upload** (`POST /videos/upload`): Store video files securely on the server.
- **Video Trimming** (`POST /videos/:id/trim`): Extract segments of videos with defined start time and duration.
- **Video Merging** (`POST /videos/merge`): Combine multiple videos into a single output.
- **Video Link Generation** (`GET /videos/:id/link`): Generate secure, time-limited download links for videos.

---

## Setup and Installation

### Prerequisites

- **Node.js** = 22
- **npm**
- **FFmpeg**: Ensure FFmpeg is installed and accessible in your PATH.

### Steps

1. **Clone the repository**:
   ```bash
   git clone <repo-url>
   cd <repo-name>
   ```
2. **Install dependencies**:
   ```bash
   npm install
   ```
3. **Set up the environment**:
   Create an `.env` file using the provided `.env.example` file:
   ```bash
   cp .env.example .env
   ```
4. **Run server**:
   npm start
5. **Run Tests coverage**
   npm run test:coverage

## Notes

- **FFmpeg**: This server relies on [FFmpeg](https://ffmpeg.org/) for handling video processing tasks such as trimming and merging. Make sure FFmpeg is installed and accessible in the system's PATH. You can install FFmpeg on your system by following the instructions on the FFmpeg website.

- **JWT Expiry**: The download links for the videos generated by the server are secured using JWT (JSON Web Tokens). These links are time-limited and will expire based on the `VIDEO_LINK_EXPIRY` environment variable, which is configured in seconds. After the token expires, the link will no longer be valid, ensuring secure and temporary access to video downloads.
